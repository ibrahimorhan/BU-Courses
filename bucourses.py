import sysimport pandas as pd d1=sys.argv[1]d2=sys.argv[2]d1donem = d1[5:]d2donem = d2[5:]donem1=int(d1[:4])donem2=int(d2[:4])scheduleDers=['MANAGEMENT',  #List of department names for csv format                'ASIAN STUDIES',                'ASIAN STUDIES WITH THESIS',                'ATATURK INSTITUTE FOR MODERN TURKISH HISTORY',              'AUTOMOTIVE ENGINEERING',                'MOLECULAR BIOLOGY & GENETICS',               'BUSINESS INFORMATION SYSTEMS',              'BIOMEDICAL ENGINEERING',              'CRITICAL AND CULTURAL STUDIES',              'CIVIL ENGINEERING',                'CONSTRUCTION ENGINEERING AND MANAGEMENT',               'COMPUTER EDUCATION & EDUCATIONAL TECHNOLOGY',                'EDUCATIONAL TECHNOLOGY',              'CHEMICAL ENGINEERING',                'CHEMISTRY',                'COMPUTER ENGINEERING',              'COGNITIVE SCIENCE',                'COMPUTATIONAL SCIENCE & ENGINEERING',              'ECONOMICS',                'EDUCATIONAL SCIENCES',              'ELECTRICAL & ELECTRONICS ENGINEERING',               'ECONOMICS AND FINANCE',                'ENVIRONMENTAL SCIENCES',                'ENVIRONMENTAL TECHNOLOGY',               'EARTHQUAKE ENGINEERING',                 'ENGINEERING AND TECHNOLOGY MANAGEMENT',                'FINANCIAL ENGINEERING',               'FOREIGN LANGUAGE EDUCATION',                'GEODESY',                'GEOPHYSICS',                 'GUIDANCE & PSYCHOLOGICAL COUNSELING',               'HISTORY',                'HUMANITIES COURSES COORDINATOR',               'INDUSTRIAL ENGINEERING',                'INTERNATIONAL COMPETITION AND TRADE',               'CONFERENCE INTERPRETING',             'INTERNATIONAL TRADE',               'INTERNATIONAL TRADE MANAGEMENT',               'LINGUISTICS',               'WESTERN LANGUAGES & LITERATURES',               'LEARNING SCIENCES',               'MATHEMATICS',              'MECHANICAL ENGINEERING',               'MECHATRONICS ENGINEERING',                'INTERNATIONAL RELATIONS:TURKEY,EUROPE AND THE MIDDLE EAST',               'INTERNATIONAL RELATIONS:TURKEY,EUROPE AND THE MIDDLE EAST WITH THESIS',                'MANAGEMENT INFORMATION SYSTEMS',               'FINE ARTS',              'PHYSICAL EDUCATION',               'PHILOSOPHY',                'PHYSICS',               'POLITICAL SCIENCE & INTERNATIONAL RELATIONS',               'PRIMARY EDUCATION',               'PSYCHOLOGY',                'MATHEMATICS AND SCIENCE EDUCATION',              'SECONDARY SCHOOL SCIENCE AND MATHEMATICS EDUCATION',               'SYSTEMS & CONTROL ENGINEERING',               'SOCIOLOGY',               'SOCIAL POLICY WITH THESIS',               'SOFTWARE ENGINEERING',               'SOFTWARE ENGINEERING WITH THESIS',              'TURKISH COURSES COORDINATOR',               'TURKISH LANGUAGE & LITERATURE',                'TRANSLATION AND INTERPRETING STUDIES',               'SUSTAINABLE TOURISM+MANAGEMENT',               'TOURISM ADMINISTRATION',                'TRANSLATION',              'EXECUTIVE MBA',              'SCHOOL OF FOREIGN LANGUAGES']kisaltma = ['AD',  #List of department codes in sorted order            'ASIA',            'ASIA',            'ATA',            'AUTO',            'BIO',            'BIS',            'BM',            'CCS',            'CE',            'CEM',            'CET',            'CET',            'CHE',            'CHEM',            'CMPE',            'COGS',            'CSE',            'EC',            'ED',            'EE',            'EF',            'ENV',            'ENVT',            'EQE',            'ETM',            'FE',            'FLED',            'GED',            'GPH',            'GUID',            'HIST',            'HUM',            'IE',            'INCT',            'INT',            'INTT',            'INTT',            'LING',            'LL',            'LS',            'MATH',            'ME',            'MECA',            'MIR',            'MIR',            'MIS',            'PA',            'PE',            'PHIL',            'PHYS',            'POLS',            'PRED',            'PSY',            'SCED',            'SCED',            'SCO',            'SOC',            'SPL',            'SWE',            'SWE',            'TK',            'TKL',            'TR',            'TRM',            'TRM',            'WTR',            'XMBA',            'YADYOK']dersListesi = ['MANAGEMENT',   #List of department names in url format                'ASIAN+STUDIES',                'ASIAN+STUDIES+WITH+THESIS',                'ATATURK+INSTITUTE+FOR+MODERN+TURKISH+HISTORY',              'AUTOMOTIVE+ENGINEERING',                'MOLECULAR+BIOLOGY+%26+GENETICS',               'BUSINESS+INFORMATION+SYSTEMS',              'BIOMEDICAL+ENGINEERING',              'CRITICAL+AND+CULTURAL+STUDIES',              'CIVIL+ENGINEERING',                'CONSTRUCTION+ENGINEERING+AND+MANAGEMENT',               'COMPUTER+EDUCATION+%26+EDUCATIONAL+TECHNOLOGY',                'EDUCATIONAL+TECHNOLOGY',              'CHEMICAL+ENGINEERING',                'CHEMISTRY',                'COMPUTER+ENGINEERING',              'COGNITIVE+SCIENCE',                'COMPUTATIONAL+SCIENCE+%26+ENGINEERING',              'ECONOMICS',                'EDUCATIONAL+SCIENCES',              'ELECTRICAL+%26+ELECTRONICS+ENGINEERING',               'ECONOMICS+AND+FINANCE',                'ENVIRONMENTAL+SCIENCES',                'ENVIRONMENTAL+TECHNOLOGY',               'EARTHQUAKE+ENGINEERING',                 'ENGINEERING+AND+TECHNOLOGY+MANAGEMENT',                'FINANCIAL+ENGINEERING',               'FOREIGN+LANGUAGE+EDUCATION',                'GEODESY',                'GEOPHYSICS',                 'GUIDANCE+%26+PSYCHOLOGICAL+COUNSELING',               'HISTORY',                'HUMANITIES+COURSES+COORDINATOR',               'INDUSTRIAL+ENGINEERING',                'INTERNATIONAL+COMPETITION+AND+TRADE',               'CONFERENCE+INTERPRETING',             'INTERNATIONAL+TRADE',               'INTERNATIONAL+TRADE+MANAGEMENT',               'LINGUISTICS',               'WESTERN+LANGUAGES+%26+LITERATURES',               'LEARNING+SCIENCES',               'MATHEMATICS',              'MECHANICAL+ENGINEERING',               'MECHATRONICS+ENGINEERING',                'INTERNATIONAL+RELATIONS%3aTURKEY%2cEUROPE+AND+THE+MIDDLE+EAST',               'INTERNATIONAL+RELATIONS%3aTURKEY%2cEUROPE+AND+THE+MIDDLE+EAST+WITH+THESIS',                'MANAGEMENT+INFORMATION+SYSTEMS',               'FINE+ARTS',              'PHYSICAL+EDUCATION',               'PHILOSOPHY',                'PHYSICS',               'POLITICAL+SCIENCE%26INTERNATIONAL+RELATIONS',               'PRIMARY+EDUCATION',               'PSYCHOLOGY',                'MATHEMATICS+AND+SCIENCE+EDUCATION',              'SECONDARY+SCHOOL+SCIENCE+AND+MATHEMATICS+EDUCATION',               'SYSTEMS+%26+CONTROL+ENGINEERING',               'SOCIOLOGY',               'SOCIAL+POLICY+WITH+THESIS',               'SOFTWARE+ENGINEERING',               'SOFTWARE+ENGINEERING+WITH+THESIS',              'TURKISH+COURSES+COORDINATOR',               'TURKISH+LANGUAGE+%26+LITERATURE',                'TRANSLATION+AND+INTERPRETING+STUDIES',               'SUSTAINABLE+TOURISM+MANAGEMENT',               'TOURISM+ADMINISTRATION',                'TRANSLATION',              'EXECUTIVE+MBA',              'SCHOOL+OF+FOREIGN+LANGUAGES']if d1donem == 'Fall': #if the first argument fall semester    nd1=donem1if d1donem == 'Spring': #if the first argument spring semester    nd1=donem1-1if d1donem == 'Summer': #if the first argument summer semester    nd1=donem1-1if d2donem == 'Fall': #if the second argument fall semester    nd2=donem2if d2donem == 'Spring': #if the second argument spring semester    nd2=donem2-1if d2donem == 'Summer': #if the second argument summer semester    nd2=donem2-1yazi = "Dept./Prog. (name),Course Code,Course Name," #starts to construct first line of output    for j in range(donem1,donem2+1): #adds the semesters by order to string that will be printed    y=1 #sets intial values if j is not first or last semester     z=4    if d1donem == 'Fall' and j == donem1:        y=3    if d1donem == 'Spring' and j == donem1:        y=1    if d1donem == 'Summer' and j == donem1:        y=2    if d2donem == 'Fall' and j == donem2:        z=4    if d2donem == 'Spring' and j == donem2:        z=2    if d2donem == 'Summer' and j == donem2:        z=3        for t in range(y,z): #for all semesters in current year        if t==3:            yazi+=str(j)            yazi+="-"            yazi+="Fall,"        if t==1:            yazi+=str(j)            yazi+="-"            yazi+="Spring,"        if t==2:            yazi+=str(j)            yazi+="-"            yazi+="Summer,"yazi+="Total Offerings"print(yazi)    #prints the first line of csv formatfor j in range(69):  #traces the departments that are in sorted order    butunDersKodlari = []  #all lecture codes for the specific department    dersKodDic={}  #dictionary for the lecture codes and their names for specific department    carpiAtmakIcinKodlar =[]  #has number of semester elements, each element is a list, every                               #element includes the lecture codes for given semester in order                                #for specific department    kacDonem = 0  #counter for calculating how many semesters are there    countUGI=[]  #each element is a list which contains the number of grad lessons, undergrad                  #lessons and distinct instr for each semester for specific department    totalIns=[]  #contains all distinct instr for specific department and given semesters    donemlikDersKodlariList=[] #each element is a list of all lecture codes for specific                                 #semester which are in sorted order    donemlikHocaIsimleri=[]  #each element is a list of all instructors for specific                               #semester which are in sorted order        for i in range(nd1,nd2+1):  #traces the years        x=i+1        y=1        z=4                if d1donem == 'Fall' and i == nd1:            y=1        if d1donem == 'Spring' and i == nd1:            y=2        if d1donem == 'Summer' and i == nd1:            y=3        if d2donem == 'Fall' and i == nd2:            z=2        if d2donem == 'Spring' and i == nd2:            z=3        if d2donem == 'Summer' and i == nd2:            z=4                          for t in range(y,z):  #traces the semesters            try: #if table is not empty                kacDonem+=1 #increments the semester counter by 1                stri = str(i) #first year that will be used in url                strx = str(x) #second year that will be used in url                strt= str(t) #semester number that will be used in url                                url = 'https://registration.boun.edu.tr/scripts/sch.asp?donem='+stri+'/'+strx+'-'+strt+'&kisaadi='+kisaltma[j]+'&bolum='+dersListesi[j]                tables = pd.read_html(url)                                dfs = tables[3] #takes the schedule table                                 new_col_names = ['Code', 'Desc', 'Name', 'Cr.', 'Ects', 'Instr.', 'Days', 'Hours', 'Rooms', 'Exam', 'Sl.', 'Req.', 'Dep.']                dfs.columns = new_col_names #gives table column names                dfs.drop(['Desc', 'Cr.', 'Ects', 'Days', 'Hours', 'Rooms', 'Exam', 'Sl.', 'Req.', 'Dep.'], axis=1, inplace=True)                dfs.drop([0], axis=0, inplace=True) #deletes the unnecessary row and columns                ndfs = dfs.dropna() #deletes the empty rows                                dfTolist=ndfs['Code'].tolist() #takes the lecture codes in table                s=pd.Series(dfTolist)                a=s.str.slice(stop=-3)  #takes the lecture codes without section part                CodeList=a.tolist()                CodeList = list(set(CodeList)) #removes the duplicates                 s2 = pd.Series(CodeList)                a2 = s2.str.slice(start=-3,stop=-2) #takes the left-most digit of the lecture code part                CodeList=a2.tolist()                countG=0                countU=0                for p in CodeList:                    if p=="1" or p=="2" or p=="3" or p=="4" or p=="5" or p=="6" or p=="7" or p=="8" or p=="9": #if digit is int                        z=int(p)                        if z>=5: #if it is more or equal than 5, increments grad lesson number by 1                            countG+=1                        else: #if it is less than 5, increments undergrad lesson number by 1                            countU+=1                    else: #if digit is string, increments undergrad lesson number by 1                        countU+=1                dfTolist=ndfs['Instr.'].tolist() #takes the instr list                d=list(set(dfTolist)) #removes duplicates                while "STAFF STAFF" in d: #ignores the STAFF STAFF                    d.remove("STAFF STAFF")                totalIns += d #adds the instr list for the semester to total instr list                countIns = len(d) #calculates the distinct instr number for the semester                countUGI2=[]                countUGI2+=[countU]+[countG]+[countIns]                 countUGI.append(countUGI2)  #appends the list of the number of grad lessons, undergrad                                              #lessons and distinct instr for specific semester                                                       donemlikDersKodlari = ndfs['Code'].tolist() #takes the lecture codes in table                        ss = pd.Series(donemlikDersKodlari)                sectionsiz=ss.str.slice(stop=-3) #removes the section part                sectionsiz2=sectionsiz.tolist()                                donemlikDersIsimleri = ndfs['Name'].tolist() #takes the lecture names in table                donemlikDersKodlariList.append(sectionsiz2) #appends the lecture codes which contains duplicates                donemlikHocaList = ndfs['Instr.'].tolist() #takes the instr list                donemlikHocaIsimleri.append(donemlikHocaList) #appends the instr list which contains duplicates                                for r in range(len(sectionsiz2)):                     dersKodDic[sectionsiz2[r]]=donemlikDersIsimleri[r] #generates a dictionary for the lecture codes                                                                        #and their names                                                   sectionsiz2 = list(set(sectionsiz2)) #removes duplicates in lecture codes                sectionsiz2.sort() #sorts the lecture codes                                butunDersKodlari+=sectionsiz2 #adds the lecture codes to the butunDersKodlari list                                carpiAtmakIcinKodlar.append(sectionsiz2) #appends the lecture codes list for specific semester                            except: #if table is empty adds empty list or dictionary to the list below                carpiAtmakIcinKodlar.append([])                countUGI.append([])                donemlikDersKodlariList.append([])                donemlikHocaIsimleri.append([])        yazdirilcak ="" #starting to construct line that includes department names    yazdirilcak+=scheduleDers[j] #takes the department name    butunDersKodlari = list(set(butunDersKodlari)) #removes duplicates    butunDersKodlari.sort() #sorts the list        sss = pd.Series(butunDersKodlari)    aaa=sss.str.slice(start=-3) #removes the string part of lecture codes    cdlist= aaa.tolist()    sss2 = pd.Series(cdlist)    aaa2 = sss2.str.slice(stop=1) #takes the left-most digit    cdlist2 = aaa2.tolist()    countG2=0    countU2=0    for p in cdlist2:        if p=="1" or p=="2" or p=="3" or p=="4" or p=="5" or p=="6" or p=="7" or p=="8" or p=="9": #if digit is int            x=int(p)            if x>=5:                countG2+=1 #if it is more or equal than 5, increments grad lesson number by 1            else:                countU2+=1 #if it is less than 5, increments undergrad lesson number by 1        else:             countU2+=1 #if digit is string, increments undergrad lesson number by 1    yazdirilcak+=",U"    yazdirilcak += str(countU2) #adds the undergrad lecture number    yazdirilcak += " G"    yazdirilcak += str(countG2) #adds the grad lecture number    yazdirilcak += ", ,"        totalU=0    totalG=0    for kactayiz in range(kacDonem): #calculates and adds the number of grad, undergrad, instr for each semester part        if len(countUGI[kactayiz])==0: #if the schedule table was empty prints space            yazdirilcak += " ,"        else:  #if the schedule table was not empty            yazdirilcak += "U"            yazdirilcak += str(countUGI[kactayiz][0]) #adds the number of undergrad lectures            totalU += countUGI[kactayiz][0]            yazdirilcak += " G"            yazdirilcak += str(countUGI[kactayiz][1]) #adds the number of grad lectures            totalG += countUGI[kactayiz][1]            yazdirilcak += " I"            yazdirilcak += str(countUGI[kactayiz][2]) #adds the number of distinct intructors            yazdirilcak += ","    yazdirilcak += "U"    yazdirilcak += str(totalU) #adds the number of undergrad lectures for total offerings part    yazdirilcak += " G"    yazdirilcak += str(totalG)  #adds the number of grad lectures for total offerings part    totalIns = list(set(totalIns)) #removes duplicates in all instructor list for the department     yazdirilcak += " I"    yazdirilcak += str(len(totalIns)) #adds the number of distinct intructors for total offerings part        print(yazdirilcak) #prints the line    yazdirilcak=""            for m in range(len(butunDersKodlari)): #process for printing the lines that includes lecture codes        yazdirilcak += butunDersKodlari[m] #adds the lecture code        yazdirilcak += ","        yazdirilcak += dersKodDic[butunDersKodlari[m]] #adds the name of lecture from dictionary        yazdirilcak += ","        carpiCount=0 #counts that how many semesters the specific lecture is given        for k in range(kacDonem): #traces all semesters, adds a 'x' or ' ' to line and calculates carpiCount            if butunDersKodlari[m] in carpiAtmakIcinKodlar[k]: #if the lecture is given in that semester                carpiCount+=1 #increments the counter by 1                yazdirilcak+="x," #adds a 'x'            else: #if the lecture is not given in that semester                yazdirilcak+=" ," #adds a ' '        yazdirilcak+=str(carpiCount) #adds the counter that calculates how many semesters the specific lecture is given        yazdirilcak += " / "        dersIcýnHocaList=[] #includes every instructor that gives the specific lecture        for kk in range(kacDonem): #traces all semesters, adds all instructors that gives the specific lecture to dersIcýnHocaList            if len(donemlikDersKodlariList[kk])!=0: #if the table is not empty                for kodd in range(len(donemlikDersKodlariList[kk])): #traces all lecture codes for each semester                    if donemlikDersKodlariList[kk][kodd]==butunDersKodlari[m]:                         dersIcýnHocaList+=[donemlikHocaIsimleri[kk][kodd]] #adds the instructor that gives the specific lecture to list        dersIcýnHocaList = list(set(dersIcýnHocaList)) #removes duplicates        yazdirilcak += str(len(dersIcýnHocaList)) #adds number of distinct instr that give a specific lecture                print(yazdirilcak) #print the line        yazdirilcak=""    kacDonem = 0    